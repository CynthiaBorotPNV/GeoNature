:py:mod:`pypnusershub.schemas`
==============================

.. py:module:: pypnusershub.schemas


Module Contents
---------------

Classes
~~~~~~~

.. autoapisummary::

   pypnusershub.schemas.OrganismeSchema
   pypnusershub.schemas.UserSchema




.. py:class:: OrganismeSchema(*args, **kwargs)


   Bases: :py:obj:`utils_flask_sqla.schema.SmartRelationshipsMixin`, :py:obj:`pypnusershub.env.ma.SQLAlchemyAutoSchema`

   This mixin automatically exclude from serialization:

   * Nested, RelatedList and Related fields
   * all fields with exclude=True in their metadata (e.g. ``fields.String(metadata={'exclude': True})``)
   Adding only Nested fields to ``only`` will not exclude others fields and serialize specified Nested fields.
   Adding exclude=True fields to ``only`` will serialize only specified fields (default marshmallow behaviour).
   You can use '+field_name' syntax on `only` to serialize default excluded fields (with metadata exclude = True) without other fields.

   Examples :

   .. code-block:: python

      class FooSchema(SmartRelationshipsMixin):
          id = fields.Int()
          name = field.Str()
          default_excluded_field = fields.Str(metadata={"exclude": True})
          relationship = fields.Nested(OtherSchema) # or field.RelatedList() / field.Related()

      FooSchema().dump() -> {"id": 1, "name": "toto" }
      FooSchema(only=["+default_excluded_field"]).dump() -> {"id": 1, "name": "toto", default_excluded_field: "test" }
      FooSchema(only=["relationship"]).dump() -> {"id": 1, "name": "toto",  relationship : {OtherSchema...} }
      FooSchema(only=["id", "relationship"]).dump() -> {"id": 1, relationship : {OtherSchema...} }

   .. py:class:: Meta


      .. py:attribute:: model

         

      .. py:attribute:: load_instance
         :value: True

         

      .. py:attribute:: sqla_session

         



.. py:class:: UserSchema(*args, **kwargs)


   Bases: :py:obj:`utils_flask_sqla.schema.SmartRelationshipsMixin`, :py:obj:`pypnusershub.env.ma.SQLAlchemyAutoSchema`

   This mixin automatically exclude from serialization:

   * Nested, RelatedList and Related fields
   * all fields with exclude=True in their metadata (e.g. ``fields.String(metadata={'exclude': True})``)
   Adding only Nested fields to ``only`` will not exclude others fields and serialize specified Nested fields.
   Adding exclude=True fields to ``only`` will serialize only specified fields (default marshmallow behaviour).
   You can use '+field_name' syntax on `only` to serialize default excluded fields (with metadata exclude = True) without other fields.

   Examples :

   .. code-block:: python

      class FooSchema(SmartRelationshipsMixin):
          id = fields.Int()
          name = field.Str()
          default_excluded_field = fields.Str(metadata={"exclude": True})
          relationship = fields.Nested(OtherSchema) # or field.RelatedList() / field.Related()

      FooSchema().dump() -> {"id": 1, "name": "toto" }
      FooSchema(only=["+default_excluded_field"]).dump() -> {"id": 1, "name": "toto", default_excluded_field: "test" }
      FooSchema(only=["relationship"]).dump() -> {"id": 1, "name": "toto",  relationship : {OtherSchema...} }
      FooSchema(only=["id", "relationship"]).dump() -> {"id": 1, relationship : {OtherSchema...} }

   .. py:class:: Meta


      .. py:attribute:: model

         

      .. py:attribute:: include_fk
         :value: True

         

      .. py:attribute:: load_instance
         :value: True

         

      .. py:attribute:: sqla_session

         

      .. py:attribute:: exclude
         :value: ('_password', '_password_plus', 'champs_addi', 'max_level_profil')

         


   .. py:attribute:: max_level_profil

      

   .. py:attribute:: nom_complet

      

   .. py:attribute:: groups

      

   .. py:attribute:: organisme

      

   .. py:method:: make_observer(data, **kwargs)



